import { useState } from 'react';
import { Link, useNavigate } from 'react-router-dom';
import MobileContainer from '../../components/common/MobileContainer';

function LoginPage() {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [showPassword, setShowPassword] = useState(false);
  const [error, setError] = useState('');
  const navigate = useNavigate();

  const handleSubmit = (e) => {
    e.preventDefault();
    // For prototype - directly navigate to homepage
    navigate('/home');
  };

  const handleGoogleLogin = () => {
    // For prototype - directly navigate to homepage
    navigate('/home');
  };

  return (
    <MobileContainer>
      <div className="p-6">
        {/* Logo */}
        <div className="flex flex-col items-center mb-8">
          <div className="flex items-center justify-center w-16 h-16 relative mb-2">
            <img
              src="./images/DikCare Logo.png"
              alt="DikCare Logo"
              className="w-full h-full object-contain"
            />
          </div>
          <h1 className="text-2xl font-bold text-gray-900">DikCare</h1>
        </div>

        <h2 className="text-2xl font-bold text-center mb-8">Welcome back</h2>

        {error && (
          <div className="mb-4 text-sm text-red-600 bg-red-50 p-2 rounded">
            {error}
          </div>
        )}

        <form onSubmit={handleSubmit}>
          <div className="mb-4">
            <label htmlFor="email" className="sr-only">Email</label>
            <input
              id="email"
              type="email"
              placeholder="Email"
              value={email}
              onChange={(e) => setEmail(e.target.value)}
              className="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"
            />
          </div>

          <div className="mb-4 relative">
            <label htmlFor="password" className="sr-only">Password</label>
            <input
              id="password"
              type={showPassword ? "text" : "password"}
              placeholder="Password"
              value={password}
              onChange={(e) => setPassword(e.target.value)}
              className="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"
            />
            <button
              type="button"
              onClick={() => setShowPassword(!showPassword)}
              className="absolute inset-y-0 right-0 pr-3 flex items-center"
            >
              {showPassword ? (
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-5 h-5 text-gray-500">
                  <path strokeLinecap="round" strokeLinejoin="round" d="M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88" />
                </svg>
              ) : (
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth={1.5} stroke="currentColor" className="w-5 h-5 text-gray-500">
                  <path strokeLinecap="round" strokeLinejoin="round" d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z" />
                  <path strokeLinecap="round" strokeLinejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
                </svg>
              )}
            </button>
          </div>

          <div className="mb-6 text-right">
            <Link to="/forgot-password" className="text-sm text-gray-500">Forgot password?</Link>
          </div>

          <button
            type="submit"
            className="w-full bg-blue-200 text-gray-800 py-3 rounded-full font-medium mb-4 hover:bg-blue-300 transition-colors"
          >
            Login
          </button>
        </form>

        <button
          onClick={handleGoogleLogin}
          className="w-full flex items-center justify-center gap-2 bg-gray-100 text-gray-800 py-3 rounded-full font-medium mb-8 hover:bg-gray-200 transition-colors"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="#4285F4">
            <path d="M12.545 12.151L12.545 12.151L12.545 12.151H9.99802V15.398H15.7961C15.3991 17.043 13.9861 18.198 12.001 18.198C9.5223 18.198 7.521 16.13 7.521 13.566C7.521 11.001 9.5223 8.933 12.001 8.933C13.082 8.933 14.0641 9.338 14.8241 10.01L17.2171 7.505C15.853 6.223 14.0211 5.433 12.001 5.433C7.64694 5.433 4.12 9.068 4.12 13.566C4.12 18.063 7.64694 21.698 12.001 21.698C16.131 21.698 19.308 18.734 19.308 13.566C19.308 13.097 19.267 12.642 19.185 12.193C19.1663 12.1785 19.1435 12.1652 19.12 12.151H12.545Z" />
            <path d="M19.3401 8.00195H21.01V9.66995H22.678V11.34H21.01V13.008H19.3401V11.34H17.6721V9.66995H19.3401V8.00195Z" fill="#4285F4"/>
          </svg>
          Sign in with Google
        </button>

        <div className="text-center">
          <p className="text-sm text-gray-600">
            Don't have an account? <Link to="/signup" className="text-gray-800">Sign up</Link>
          </p>
        </div>
      </div>
    </MobileContainer>
  );
}

export default LoginPage; 